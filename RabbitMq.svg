<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Producer -->
  <rect x="50" y="50" width="150" height="60" fill="#4CAF50" stroke="#000" stroke-width="2"></rect>
  <text x="125" y="85" font-size="14" text-anchor="middle" fill="#fff">Producer</text>

  <!-- Arrow to Exchange -->
  <line x1="200" y1="80" x2="300" y2="80" stroke="#000" stroke-width="2" marker-end="url(#arrow)"></line>

  <!-- Exchange -->
  <rect x="300" y="50" width="150" height="60" fill="#2196F3" stroke="#000" stroke-width="2"></rect>
  <text x="375" y="85" font-size="14" text-anchor="middle" fill="#fff">Exchange</text>

  <!-- Arrow to Queue -->
  <line x1="450" y1="80" x2="550" y2="80" stroke="#000" stroke-width="2" marker-end="url(#arrow)"></line>

  <!-- Queue -->
  <rect x="550" y="50" width="150" height="60" fill="#FF9800" stroke="#000" stroke-width="2"></rect>
  <text x="625" y="85" font-size="14" text-anchor="middle" fill="#fff">Queue</text>

  <!-- Arrow to Consumer -->
  <line x1="625" y1="110" x2="625" y2="200" stroke="#000" stroke-width="2" marker-end="url(#arrow)"></line>

  <!-- Consumer -->
  <rect x="500" y="200" width="250" height="60" fill="#9C27B0" stroke="#000" stroke-width="2"></rect>
  <text x="625" y="235" font-size="14" text-anchor="middle" fill="#fff">Consumer</text>

  <!-- Process Message -->
  <rect x="500" y="280" width="250" height="60" fill="#FFC107" stroke="#000" stroke-width="2"></rect>
  <text x="625" y="315" font-size="14" text-anchor="middle" fill="#000">Process Message</text>

  <!-- Success path -->
  <line x1="625" y1="340" x2="550" y2="400" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrow)"></line>
  <rect x="450" y="380" width="180" height="40" fill="#4CAF50" stroke="#000" stroke-width="2"></rect>
  <text x="540" y="405" font-size="14" text-anchor="middle" fill="#fff">BasicAck (Success)</text>

  <!-- Exception path -->
  <line x1="625" y1="340" x2="700" y2="400" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"></line>
  <rect x="650" y="380" width="180" height="40" fill="#F44336" stroke="#000" stroke-width="2"></rect>
  <text x="740" y="405" font-size="14" text-anchor="middle" fill="#fff">BasicNack (Exception)</text>
  <text x="740" y="425" font-size="12" text-anchor="middle" fill="#fff">Requeue / Discard</text>

  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <path d="M0,0 L0,10 L10,5 Z" fill="#000"></path>
    </marker>
  </defs>
</svg>
